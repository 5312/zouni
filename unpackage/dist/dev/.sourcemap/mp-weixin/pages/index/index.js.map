{"version":3,"sources":["uni-app:///main.js","webpack:///D:/wx-zouni/pages/index/index.vue?33ec","webpack:///D:/wx-zouni/pages/index/index.vue?0ccc","webpack:///D:/wx-zouni/pages/index/index.vue?0064","webpack:///D:/wx-zouni/pages/index/index.vue?6823","uni-app:///pages/index/index.vue","webpack:///D:/wx-zouni/pages/index/index.vue?0e4b","webpack:///D:/wx-zouni/pages/index/index.vue?5a52"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isContact = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :class=\"['index fixed p-tblr',!isAuthAddress && isShowAuthLogin?'bg-page':'']\">\r\n\t\t<template v-if=\"isAuthAddress\">\r\n\t\t\t<view class=\"header absolute flex j-between a-center flex-row bg-white\">\r\n\t\t\t\t<view class=\"left\" @click=\"toPage('address')\" >\r\n\t\t\t\t\t<template v-if=\"addressInfo\">\r\n\t\t\t\t\t\t<text class=\"address\">{{addressInfo.name?addressInfo.name:''}}</text>\r\n\t\t\t\t\t\t<image src=\"../../static/image/more1.png\" mode=\"\" class=\"more_icon\"></image>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<template v-if=\"weatherInfo\">\r\n\t\t\t\t\t\t<text>{{weatherInfo.wea}}</text>\r\n\t\t\t\t\t\t<text class=\"margin-lr\">{{weatherInfo.tem}} °C</text>\r\n\t\t\t\t\t\t<text>{{weatherInfo.air_level}}</text>\r\n\t\t\t\t\t</template>\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"main absolute\">\r\n\t\t\t\t<map class='w100 h100' id='myMap' :latitude=\"latitude\" :longitude=\"longitude\" show-location :scale='mapScale' \r\n\t\t\t\t :markers=\"covers\" @regionchange=\"regionchange\" @markertap='markertap'  />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer absolute flex j-between a-center flex-row bg-white\">\r\n\t\t\t\t<view class=\"left  flex a-center j-center flex-column\" @click=\"toPage('vip')\">\r\n\t\t\t\t\t<image src=\"../../static/image/03.png\" mode=\"\" class=\"img\"></image>\r\n\t\t\t\t\t<text>卡包</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mid flex j-center a-center flex-row\" @click=\"scanCode\">\r\n\t\t\t\t\t<image src=\"../../static/image/sao.png\" class=\"img\"></image>\r\n\t\t\t\t\t<text class=\"text bold\">扫码洗车</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right  flex a-center j-center flex-column\" @click=\"toPage('my')\">\r\n\t\t\t\t\t<image src=\"../../static/image/02.png\" mode=\"\" class=\"img\"></image>\r\n\t\t\t\t\t<text>我的</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"list-wrap fixed bg-white\">\r\n\t\t\t\t<view class=\"box flex a-center j-center flex-column\" @click=\"toPage('site')\">\r\n\t\t\t\t\t<image src=\"../../static/image/06.png\" class=\"img\" mode=\"heightFix\"></image>\r\n\t\t\t\t\t<text>站点列表</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box flex a-center j-center flex-column\" @click=\"addressHandle\">\r\n\t\t\t\t\t<image src=\"../../static/image/05.png\" class=\"img img2\" mode=\"heightFix\"></image>\r\n\t\t\t\t\t<text>定位</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box flex a-center j-center flex-column\" @click=\"isContact=true\">\r\n\t\t\t\t\t<image src=\"../../static/image/04.png\" class=\"img\" mode=\"heightFix\"></image>\r\n\t\t\t\t\t<text>客服</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"activity-wrap fixed\" v-if=\"adImg\" @click=\"toAdPage\">\r\n\t\t\t\t<image :src=\"adImg\" mode=\"\" class=\"w100\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"contact-wrap fixed p-tblr\" v-if=\"isContact\" @click.stop.prevent=\"close\">\r\n\t\t\t\t<view class=\"content absolute\">\r\n\t\t\t\t\t<view class=\"contact-line text-center\" @click.stop.prevent=\"online\">\r\n\t\t\t\t\t\t<view class=\"relative\">\r\n\t\t\t\t\t\t\t在线客服\r\n\t\t\t\t\t\t\t<text class=\"tag absolute\">推荐</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"contact-line text-center\" @click.stop.prevent=\"call\">电话客服</view>\r\n\t\t\t\t\t<view class=\"contact-line text-center\" @click.stop.prevent=\"close\">取消</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\t\t\t\t\r\n\t\t</template>\t\r\n\t\t<AuthLogin v-if=\"!isAuthAddress && isShowAuthLogin\" @loginOk='loginOk' :status=\"'userLocation'\"></AuthLogin>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport AuthLogin from \"../../components/base/auth-login.vue\"\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tAuthLogin\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tadImg: \"\",\r\n\t\t\t\tmapScale:16,\r\n\t\t\t\tisAuthAddress:false,\r\n\t\t\t\tisShowAuthLogin:false,\r\n\t\t\t\tphone: 0,\r\n\t\t\t\tisContact: false,\r\n\t\t\t\tweatherInfo:null,\r\n\t\t\t\tlatitude: null,\r\n\t\t\t\tlongitude:null,\r\n\t\t\t\tcovers: [],\r\n\t\t\t\tmapCtx: null,\r\n\t\t\t\taddressInfo:null,\r\n\t\t\t\tfromPage:null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareAppMessage(res) {\r\n\t\t    if (res.from === 'button') {// 来自页面内分享按钮\r\n\t\t      console.log(res.target)\r\n\t\t    }\r\n\t\t    return {\r\n\t\t      title: '快来参加吧！',\r\n\t\t      path: '/pages/index/index'\r\n\t\t    }\r\n\t\t },\r\n\t\tonLoad(options){\r\n\t\t\tthis.fromPage=options && options.fromPage?options.fromPage:null\r\n\t\t\tif(this.fromPage && this.fromPage==='address'){\r\n\t\t\t\tthis.addressInfo=JSON.parse(options.addressInfo)\r\n\t\t\t\tthis.latitude=this.addressInfo.lat\r\n\t\t\t\tthis.longitude=this.addressInfo.lng\r\n\t\t\t\tthis.$tool.uniSetStorage(\"addressInfo\",this.addressInfo)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\t\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\t\t\r\n\t\tmethods: {\r\n\t\t\tinit(isReset=false) {\r\n\t\t\t\tthis.$tool.isGetLocation('scope.userLocation',()=>{\r\n\t\t\t\t\tthis.isAuthAddress=true\r\n\t\t\t\t\tthis.isShowAuthLogin=false\r\n\t\t\t\t\tif(this.fromPage && this.fromPage==='address' && !isReset){\r\n\t\t\t\t\t\tthis.mapScale=11\r\n\t\t\t\t\t\tthis.getWeather()\r\n\t\t\t\t\t\tthis.getPthone()\r\n\t\t\t\t\t\tthis.getListInfo()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.mapScale=16\r\n\t\t\t\t\t\tthis.getLocationInfo()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getAdInfo()\r\n\t\t\t\t},()=>{\r\n\t\t\t\t\tthis.isAuthAddress=false\r\n\t\t\t\t\tthis.isShowAuthLogin=true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloginOk(){\r\n\t\t\t\tthis.init()\r\n\t\t\t},\r\n\t\t\taddressHandle() {\r\n\t\t\t\t\r\n\t\t\t\tthis.init(true)\r\n\t\t\t},\t\t\r\n\t\t\tgetPthone(){\r\n\t\t\t\tthis.$tool.uniRequest({\r\n\t\t\t\t\turl: `/api/Tel`,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.phone=res.tel\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}, \r\n\t\t\tmarkertap(e){\r\n\t\t\t\tconsole.log('markertap',e.detail.markerId)\r\n\t\t\t\tlet markerId=e.detail.markerId\r\n\t\t\t\tlet result=null\r\n\t\t\t\tthis.covers.forEach((item,index)=>{\r\n\t\t\t\t\tif(item.id==markerId){\t\t\t\t\t\r\n\t\t\t\t\t\tresult=item\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tresult && this.getSiteDetail(result)\r\n\t\t\t},\r\n\t\t\tregionchange(e){\r\n\t\t\t\t//console.log(e)\r\n\t\t\t\tif(e.type == \"end\"){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}, \r\n\t\t\tgetSiteDetail(item){\t\t\r\n\t\t\t\tthis.$tool.uniNavigateTo({\r\n\t\t\t\t\turl:`/pages/index/site-detail?id=${item.goods_id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoAdPage(){\r\n\t\t\t\tthis.$tool.uniNavigateTo({\r\n\t\t\t\t\turl:`/pages/my/card`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetLocationInfo() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.mapCtx = uni.createMapContext('myMap')\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: \"wgs84\",\r\n\t\t\t\t\tgeocode: true,\r\n\t\t\t\t\tsuccess: (res) => {\t\t\r\n\t\t\t\t\t\t_this.latitude = res.latitude\r\n\t\t\t\t\t\t_this.longitude = res.longitude\t\r\n\t\t\t\t\t\t_this.$tool.uniRequest({\r\n\t\t\t\t\t\t\turl: `/api/Geocoder`,\r\n\t\t\t\t\t\t\tparams:{\r\n\t\t\t\t\t\t\t\tlat:_this.latitude,\r\n\t\t\t\t\t\t\t\tlng:_this.longitude\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"城市\",result)\r\n\t\t\t\t\t\t\t\tlet cityName = result.geocoder.city\r\n\t\t\t\t\t\t\t\tif(cityName.charAt(cityName.length-1)==='市'){\r\n\t\t\t\t\t\t\t\t\tcityName=cityName.substr(0,cityName.length-1);\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t_this.addressInfo={\r\n\t\t\t\t\t\t\t\t\tname:cityName,\r\n\t\t\t\t\t\t\t\t\tlat:_this.latitude,\r\n\t\t\t\t\t\t\t\t\tlng:_this.longitude,\r\n\t\t\t\t\t\t\t\t\tcategory_id:\"\",\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t_this.mapCtx.moveToLocation()  //地图中心点切换到当前位置\r\n\t\t\t\t\t\t\t\t_this.$tool.uniSetStorage(\"addressInfo\",_this.addressInfo)\r\n\t\t\t\t\t\t\t\t_this.getWeather()\r\n\t\t\t\t\t\t\t\t_this.getListInfo()\r\n\t\t\t\t\t\t\t\t_this.getPthone()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetAdInfo(){\r\n\t\t\t\tthis.$tool.uniRequest({\r\n\t\t\t\t\turl: `/api/Ad`,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('获取广告地址',res)\r\n\t\t\t\t\t\tthis.adImg=res.indexAd\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetWeather(){\r\n\t\t\t\tthis.$tool.uniRequest({\r\n\t\t\t\t\turl: `/api/weather`,\r\n\t\t\t\t\tisNoCode: true,\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tlat:this.addressInfo.lat,\r\n\t\t\t\t\t\tlng:this.addressInfo.lng,\r\n\t\t\t\t\t\tcity:this.addressInfo.name\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.weatherInfo=res\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetListInfo() {\t\r\n\t\t\t\tconst cover = this.$tool.uniGetStorage(\"covers\")//缓存标记\r\n\t\t\t\tif(cover){ this.covers = cover ;return}\r\n\t\t\t\tthis.$tool.uniRequest({\r\n\t\t\t\t\turl: `/api/index/`,\t\t\t\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet temObj = res && res.posiList && res.posiList.data ? res.posiList.data : []\r\n\t\t\t\t\t\tthis.covers = []\r\n\t\t\t\t\t\tfor(let i in temObj){\r\n\t\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\t\tid:i+1,\r\n\t\t\t\t\t\t\t\tgoods_id: temObj[i].goods_id,\r\n\t\t\t\t\t\t\t\tlatitude: temObj[i].goods_lat,\r\n\t\t\t\t\t\t\t\tlongitude: temObj[i].goods_lng,\r\n\t\t\t\t\t\t\t\ticonPath: '../../static/image/maplocation.png'\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.covers.push(obj)\r\n\t\t\t\t\t\t}   \r\n\t\t\t\t\t\tthis.$tool.uniSetStorage(\"covers\",this.covers)\r\n\t\t\t\t\t\tconsole.log(\"当前城市标记的站点：\",this.covers)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}, \r\n\t\t\tscanCode() {\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet result=res.result\r\n\t\t\t\t\t\tlet siteId=''\r\n\t\t\t\t\t\tif(result && result.startsWith('https://xi.ydeshui.com')){\r\n\t\t\t\t\t\t\tlet q=result\r\n\t\t\t\t\t\t\tif(q){\r\n\t\t\t\t\t\t\t\tlet a=q.split('?')[1]\r\n\t\t\t\t\t\t\t\tif(a && a.length>0){\r\n\t\t\t\t\t\t\t\t\tlet b=a.split('=')\r\n\t\t\t\t\t\t\t\t\tif(b && b.length>0 && b[0]=='siteId'){\r\n\t\t\t\t\t\t\t\t\t\tsiteId=b[1]\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(siteId){\r\n\t\t\t\t\t\t\tthis.$tool.uniRedirectTo({\r\n\t\t\t\t\t\t\t\turl:`/pages/scan/index?siteId=${siteId}&fromPage=home`\r\n\t\t\t\t\t\t\t})\t\t\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tthis.$tool.uniShowToast({\r\n\t\t\t\t\t\t\t\ttitle:\"目前只支持小程序的扫码支付，不支持其他扫码\",\r\n\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonline(){\r\n\t\t\t\tthis.$tool.uniShowToast({\r\n\t\t\t\t\ttitle: \"稍后开放！\",\r\n\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoPage(type) {\r\n\t\t\t\t\r\n\t\t\t\tlet url = \"\"\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase 'my':\r\n\t\t\t\t\t\turl = \"/pages/my/index\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'vip':\r\n\t\t\t\t\t\turl=\"/pages/my/volume\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'address':\r\n\t\t\t\t\t\turl = `/pages/address/index?addressName=${this.addressInfo.name}`\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'site':\r\n\t\t\t\t\t\turl = \"/pages/index/site\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\turl = \"/pages/index/index\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tool.uniNavigateTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcall() {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: this.phone\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.isContact = false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.index {\r\n\t\t.header,\r\n\t\t.main,\r\n\t\t.footer {\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t}\r\n\r\n\t\t.header {\r\n\t\t\ttop: 0;\r\n\t\t\tpadding: 0 40rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tcolor: black;\r\n\t\t\tfont-size: 26rpx;\r\n\r\n\t\t\t.left {\r\n\t\t\t\tcursor: pointer;\r\n\r\n\t\t\t\t.address {\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.more_icon {\r\n\t\t\t\t\twidth: 24rpx;\r\n\t\t\t\t\theight: 24rpx;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\ttop: 4rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\t.margin-lr {\r\n\t\t\t\t\tmargin: 0 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.main {\r\n\t\t\ttop: 100rpx;\r\n\t\t\tbottom: 100rpx;\r\n\t\t}\r\n\r\n\t\t.footer {\r\n\t\t\tbottom: 0;\r\n\t\t\theight: 120rpx;\r\n\t\t\tpadding: 0 100rpx;\r\n\r\n\t\t\t.mid {\r\n\t\t\t\twidth: 320rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\tbackground: #FF8D1A;\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.text {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.left,\r\n\t\t\t.right {\r\n\t\t\t\tcolor: black;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tline-height: 1.8;\r\n\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.right {}\r\n\t\t}\r\n\r\n\t\t.list-wrap {\r\n\t\t\tcolor: black;\r\n\t\t\twidth: 140rpx;\r\n\t\t\theight: 535rpx;\r\n\t\t\tright: 40rpx;\r\n\t\t\tbottom: 280rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\t.box {\r\n\t\t\t\theight: 174rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\theight: 187rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.img {\r\n\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\twidth: 70rpx;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.img2{\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t&:active {\r\n\t\t\t\t\topacity: 0.6;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.activity-wrap {\r\n\t\t\twidth: 710rpx;\r\n\t\t\ttop: 120rpx;\r\n\t\t\tleft: 50%;\r\n\t\t\tmargin-left: -355rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t}\r\n\r\n\t\t.contact-wrap {\r\n\t\t\tz-index: 300;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.2);\r\n\r\n\t\t\t.content {\r\n\t\t\t\tbackground: white;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\theight: 300rpx;\r\n\t\t\t\tborder-top-left-radius: 8rpx;\r\n\t\t\t\tborder-top-right-radius: 8rpx;\r\n\r\n\t\t\t\t.contact-line {\r\n\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\tline-height: 100rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t&:nth-child(1) {\r\n\t\t\t\t\t\tborder-bottom: 2rpx solid #272A2F;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:nth-child(2) {\r\n\t\t\t\t\t\tborder-bottom: 10rpx solid #272A2F;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.tag {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: red;\r\n\t\t\t\t\t\ttop: -16rpx;\r\n\t\t\t\t\t\tleft: 450rpx;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597301677458\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}