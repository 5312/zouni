(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/site"],{"546b":function(t,n,e){"use strict";e.r(n);var r=e("7501"),o=e("9981");for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("a100");var a,s=e("f0c5"),u=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"27958e70",null,!1,r["a"],a);n["default"]=u.exports},7501:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return r}));var r={uEmpty:function(){return e.e("uview-ui/components/u-empty/u-empty").then(e.bind(null,"0a1c"))}},o=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.cardList,(function(n,e){var r=t.__get_orig(n),o=t.$tool.distanceHanlde(n.goods_distance);return{$orig:r,g0:o}})));t.$mp.data=Object.assign({},{$root:{l0:e}})},i=[]},"953b":function(t,n,e){},9981:function(t,n,e){"use strict";e.r(n);var r=e("9c93"),o=e.n(r);for(var i in r)"default"!==i&&function(t){e.d(n,t,(function(){return r[t]}))}(i);n["default"]=o.a},"9c93":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,r,o,i,a){try{var s=t[i](a),u=s.value}catch(c){return void e(c)}s.done?n(u):Promise.resolve(u).then(r,o)}function a(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function s(t){i(a,r,o,s,u,"next",t)}function u(t){i(a,r,o,s,u,"throw",t)}s(void 0)}))}}function s(t){return l(t)||d(t)||c(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){if(t){if("string"===typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return f(t)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var h={data:function(){return{page:1,total:0,category_id:1,empty:!1,addressInfo:null,coupon_id:null,isReachStar:0,isReachEnd:10,arr:[],goodslist:!0}},onLoad:function(t){this.coupon_id=t.coupon_id||null},onPullDownRefresh:function(){},onReachBottom:function(){if(this.addressInfo=this.$cache.get("_addressInfo"),!this.addressInfo.category_id&&!this.coupon_id)return!(this.isReachEnd>this.total)&&(this.isReachStar+=10,void(this.isReachEnd+=10))},computed:{cardList:function(){if(this.addressInfo=this.$cache.get("_addressInfo"),this.addressInfo.category_id||this.coupon_id)return this.goodslist?(this.goodsList(),this.goodslist=!1,this.arr):this.arr;if(null!=this.$store.state.site){var n,e=this.$store.state.site;this.total=e.length,this.isPullDown=!1,t.stopPullDownRefresh();var r=e.slice(this.isReachStar,this.isReachEnd);return(n=this.arr).push.apply(n,s(r)),this.empty=!0,this.arr}}},methods:{init:function(){},goodsList:function(){var t=this;return a(r.default.mark((function n(){var e,o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.arr=[],t.empty=!1,n.next=4,t.$api.index_siteGoodsList({page:t.page,search:"",coupon_id:t.coupon_id||"",category_id:t.coupon_id?"":category_id,lat:String(t.addressInfo.lat),lng:String(t.addressInfo.lng)});case 4:e=n.sent,o=e.data,t.total=o.pages.total,t.isPullDown=!1,t.empty=!0,t.arr=o.posiList;case 10:case"end":return n.stop()}}),n)})))()},toPage:function(t){this.$tool.uniNavigateTo({url:"/pages/index/site-detail?id=".concat(t.goods_id)})}}};n.default=h}).call(this,e("543d")["default"])},a100:function(t,n,e){"use strict";var r=e("953b"),o=e.n(r);o.a},a49a:function(t,n,e){"use strict";(function(t){e("627e");r(e("66fd"));var n=r(e("546b"));function r(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["a49a","common/runtime","common/vendor"]]]);